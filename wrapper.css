/* Game Boyâ€“style skin + peak mobile controls (no settings needed) */
:root{
  /* defaults tuned for phones */
  --ui-scale: 1.4;                 /* overall control size */
  --ui-opacity: 0.98;              /* control bar opacity */
  --zone-size: min(60vmin, 70vw);  /* touch zone square */
  --ring-size: min(46vmin, 58vw);  /* circle inside zone */
  --knob-size: 36%;                /* knob diameter relative to ring */
  --btn-size: clamp(72px, 18vmin, 120px);

  /* Game Boy vibe */
  --body: #bfc5a7;
  --screen: #2b3a1a;
  --screen-glow: #3d5226;

  --glass: rgba(18,18,18,0.45);
  --glass-strong: rgba(18,18,18,0.65);
  --border: rgba(255,255,255,0.28);
  --active: rgba(255,255,255,0.5);

  --safe-bottom: env(safe-area-inset-bottom, 12px);
  --safe-top: env(safe-area-inset-top, 10px);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{
  height:100%;margin:0;overscroll-behavior:none;background:#0b0e11;color:#e8f0f2;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica Neue,Arial,Noto Sans,sans-serif;
}
#wrap{position:fixed;inset:0;display:grid;grid-template-rows:1fr auto}

/* Stage / Game frame with bezel */
#stage{position:relative;overflow:hidden;background:var(--body)}
.bezel{
  position:absolute;inset:0;display:grid;place-items:center;padding:clamp(8px,2.5vmin,18px);
  background: radial-gradient(180vmax 120vmax at 30% -20%, #d4d9be 10%, var(--body) 60%, #aab094 100%);
}
#gameframe{
  width:100%;height:100%;border:0;background:linear-gradient(180deg,var(--screen-glow),var(--screen));
  border-radius: clamp(8px, 1.6vmin, 14px);
  box-shadow: 0 0 0 4px rgba(0,0,0,0.15) inset, 0 14px 26px rgba(0,0,0,0.35);
}

/* Starter overlay */
#starter{position:absolute;inset:0;display:grid;place-items:center;background:radial-gradient(120vmax 120vmax at 50% 50%,rgba(0,0,0,.78),rgba(0,0,0,.92));z-index:10}
#starter .card{padding:18px 22px;text-align:center;border-radius:18px;background:var(--glass);border:1px solid var(--border);backdrop-filter:blur(6px)}
#starter .title{font-weight:800;margin-bottom:6px}
#starter .sub{opacity:.8;margin-bottom:12px}
#starter .row{display:flex;gap:10px;justify-content:center}
.btn{display:inline-grid;place-items:center;border:1px solid var(--border);border-radius:999px;background:rgba(255,255,255,0.12);color:#fff;cursor:pointer;user-select:none}
.btn.pill{padding:12px 20px;font-weight:700}
.btn.ghost{background:rgba(255,255,255,0.08)}
.btn:active,.btn.active{background:var(--active);border-color:#fff}

/* Top bar */
#topbar{position:absolute;left:10px;right:10px;top:var(--safe-top);display:flex;gap:10px;justify-content:flex-end;z-index:5}
#topbar .btn{padding:6px 10px;border-radius:999px}

/* Control bar */
#controls{
  position:relative;
  padding:14px 16px calc(22px + var(--safe-bottom));
  background:linear-gradient(to top, rgba(0,0,0,0.55), rgba(0,0,0,0.25));
  touch-action:none;
}
#controlInner{
  display:flex;justify-content:center;align-items:flex-end;
  gap: clamp(18px, 4vw, 44px);
  transform: scale(var(--ui-scale)); transform-origin: bottom center;
  opacity: var(--ui-opacity);
  transition: transform .15s ease, opacity .15s ease;
}

/* Touch zone (square) with circular play area */
.touchzone{
  position:relative;width:var(--zone-size);height:var(--zone-size);max-width:620px;max-height:620px;border-radius:24px;
  background: var(--glass-strong); border:1px solid var(--border); backdrop-filter: blur(6px);
  box-shadow: 0 10px 24px rgba(0,0,0,.35) inset, 0 4px 18px rgba(0,0,0,.35);
  overflow:hidden;
}
.touchzone .ring{
  position:absolute;width:var(--ring-size);height:var(--ring-size);border-radius:50%;
  border:1px solid var(--border);
  background: rgba(255,255,255,0.06);
  left: 50%; top: 50%; transform: translate(-50%,-50%);
  pointer-events:none;
}
.touchzone .knob{
  position:absolute;width:var(--ring-size);height:var(--ring-size);border-radius:50%;
  left: 50%; top: 50%; transform: translate(-50%,-50%);
  pointer-events:none;
}
.touchzone .knob::after{
  content:""; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width: var(--knob-size); height: var(--knob-size); border-radius:50%;
  background: rgba(255,255,255,0.14); border:1px solid var(--border);
  box-shadow: 0 6px 18px rgba(0,0,0,.35) inset, 0 2px 8px rgba(0,0,0,.35);
}

/* Actions */
.actions{display:grid;grid-template-columns:1fr;gap:14px;align-items:end}
.actions .action{
  width:var(--btn-size); height:var(--btn-size);
  font-size: clamp(18px, 5.5vmin, 24px); font-weight:900;
  box-shadow: 0 6px 18px rgba(0,0,0,.35) inset, 0 2px 8px rgba(0,0,0,.35);
  background: rgba(255,255,255,0.14);
}
.actions .full{
  width:var(--btn-size); height:calc(var(--btn-size) * .6); border-radius:14px;
}
/* Slightly different tint for reset to stand out */
.actions .reset{
  background: rgba(255, 120, 120, 0.18);
  border-color: rgba(255,255,255,0.35);
}

/* Utility */
.hidden{ display:none !important; }

/* Toast */
#toast{
  position:absolute;left:50%;top:var(--safe-top);transform:translateX(-50%);
  background:rgba(0,0,0,0.7);color:#fff;padding:8px 12px;border-radius:999px;font-size:12px;
  opacity:0;pointer-events:none;transition:opacity .2s;
}
#toast.show{opacity:1}

/* Orientation tweaks */
@media (orientation: landscape){
  :root{ --ui-scale: 1.2; }
}
